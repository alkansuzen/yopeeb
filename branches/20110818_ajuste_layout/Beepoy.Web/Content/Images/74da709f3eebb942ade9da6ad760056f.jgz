Themes={dark_icons:false,updates:0,setTheme:function(f,b,c,e,a){if(f){Themes._updateStyle("T_theme_bg",$static_path("/static/theme/"+f+"/background.css"))}else{Themes._updateStyle("T_theme_bg","http://statics.plurk.com/fe57566874ae091604a241a2109291f4.css")}if(b){Themes._updateStyle("T_theme_fg",$static_path("/static/theme/"+b+"/timeline.css"))}else{Themes._updateStyle("T_theme_fg","http://statics.plurk.com/fe57566874ae091604a241a2109291f4.css")}if(c){Themes._updateStyle("T_theme_dashboard",$static_path("/static/theme/"+c+"/dashboard.css"))}else{if(f){Themes._updateStyle("T_theme_dashboard",$static_path("/static/theme/"+f+"/dashboard.css"))}else{Themes._updateStyle("T_theme_dashboard","http://statics.plurk.com/fe57566874ae091604a241a2109291f4.css")}}if(e){var d="/Users/getCustomCss?user_id="+GLOBAL.page_user.id;if(a){d+="&updates="+Themes.updates++}Themes._updateStyle("T_custom_theme",d);if(!GLOBAL.page_user.no_design_restrictions){Themes._updateStyle("T_restrict_theme","http://statics.plurk.com/f8eaeadc1bd40ec97fcb47e910571072.css")}Themes.checkDarkIcons()}GLOBAL.page_user.theme=f;GLOBAL.page_user.theme_fg=f;GLOBAL.page_user.theme_db=c;if(Themes.dark_icons){document.getElementsByTagName("html")[0].className="dark_icons"}else{document.getElementsByTagName("html")[0].className=""}},checkDarkIcons:function(){if(GLOBAL.page_user.use_dark_icons){Themes.dark_icons=true}},_updateStyle:function(a,c){var b=window[a];if(!b){b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(b);window[a]=b}b.setAttribute("href",c)},useDarkIcons:function(a){if(!GLOBAL.page_user){return false}if(GLOBAL.page_user.theme=="white-theme"){return true}return Themes.dark_icons},_getSrc:function(b,d){d=d.replace("_dark","");if(b){var e=d.match(/[^\/]+?\.\w+$/)[0];var a=e.split(".");var c=a[0]+"_dark."+a[1];return d.replace(e,c)}return d},replaceImages:function(){var b=Themes.dark_icons;var a=[$("icon_home"),$("icon_friends"),$("icon_notifications"),$("icon_front")];map(a,function(c){if(c){c.src=Themes._getSrc(b,c.src)}})}};if(!GLOBAL.page_user&&GLOBAL.session_user){GLOBAL.page_user=GLOBAL.session_user}if(GLOBAL.page_user){Themes.setTheme(GLOBAL.page_user.theme,GLOBAL.page_user.theme_fg,GLOBAL.page_user.theme_db,GLOBAL.page_user.has_custom_theme)};